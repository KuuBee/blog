<!-- 之后一些需要手动显示的顶级弹窗都应该在这一层显示 -->
<app-search></app-search>
<div class="app-layout" [@bulrOpenClose]="isShowSearch ? 'open' : 'close'">
  <mat-toolbar class="app__toolbar no-select" color="primary">
    <span>{{ name }}的猫窝</span>
    <button mat-button routerLink="/">主页</button>
    <button mat-button routerLink="/classification">分类</button>
    <button mat-button routerLink="/tag">标签</button>
    <button mat-button routerLink="/archive">归档</button>
    <button mat-button>留言板</button>
    <span class="toolbar-spacer"></span>
    <button mat-button routerLink="/friend-link">友链</button>
    <button mat-button routerLink="/about">关于</button>
    <button mat-icon-button (click)="changeTheme()">
      <mat-icon>{{ isDark ? "wb_sunny" : "bedtime" }}</mat-icon>
    </button>
    <button mat-icon-button (click)="bugReport()">
      <mat-icon>bug_report</mat-icon>
    </button>
    <button mat-icon-button (click)="showSearch()">
      <mat-icon>search</mat-icon>
    </button>
  </mat-toolbar>
  <div
    class="app-layout__content"
    fxLayout="row"
    fxLayoutGap="20px"
    fxLayoutAlign="center start"
  >
    <div fxHide.xs class="app-layout__content__left" fxFlex="17">
      <app-user-card [fxHide]="!hasUserCard"></app-user-card>
      <app-directory *ngIf="hasDirectory"></app-directory>
    </div>
    <div fxFlex class="app-layout__content__center">
      <router-outlet></router-outlet>
    </div>
    <div
      fxHide.xs
      class="app-layout__content__right"
      fxFlex="17"
      fxLayout="column"
      fxLayoutGap="20px"
    >
      <app-recent-card [fxHide]="!hasRecentCard"></app-recent-card>
      <app-tag-card [fxHide]="!hasTagCard"></app-tag-card>
    </div>
  </div>
</div>
